<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Provides an implementation of how to modify a Makevars file to
    permit compilation of code found in a subdirectory of the `src` directory.">
<title>Embedding Compiled Code In Subdirectories of Src â€¢ SubdirSrc</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Embedding Compiled Code In Subdirectories of Src">
<meta property="og:description" content="Provides an implementation of how to modify a Makevars file to
    permit compilation of code found in a subdirectory of the `src` directory.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4979996562647159" crossorigin="anonymous"></script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-4QRKC3RN96"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4QRKC3RN96');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">SubdirSrc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/coatless-rd-rcpp/rcpp-headers-subdirs/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level2">
<h2 id="including-c-code-in-a-subdirectory-within-the-src-directory">Including C++ code in a Subdirectory within the Src Directory<a class="anchor" aria-label="anchor" href="#including-c-code-in-a-subdirectory-within-the-src-directory"></a>
</h2>
<!-- badges: start -->

<p>The <code>SubdirSrc</code> R package shows how to embed code in subdirectories within the <a href="https://github.com/coatless-rd-rcpp/rcpp-headers-subdirs/tree/master/src" class="external-link"><code>src/</code></a> folder by modifying the <a href="https://github.com/coatless-rd-rcpp/rcpp-headers-subdirs/blob/master/src/Makevars" class="external-link"><code>Makevars</code> file</a>, as specified in <a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Using-Makevars" class="external-link">Section: 1.2.1 Using Makevars</a> of <a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html" class="external-link">Writing R Extensions</a>, which is a variant of <a href="https://www.gnu.org/software/make/manual/make.html" class="external-link"><code>Make</code></a> that is <em>unique</em> to <em>R</em>.</p>
<p>In essence, this project shows how to go from:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">src/</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>    <span class="kw">|</span><span class="ex">-</span><span class="op">&gt;</span> Makevars</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>    <span class="kw">|</span><span class="ex">-</span><span class="op">&gt;</span> Makevars.win</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>    <span class="kw">|</span><span class="ex">-</span><span class="op">&gt;</span> r-accessor-to-code.cpp</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>    <span class="kw">|</span><span class="ex">-</span><span class="op">&gt;</span> routineA.cpp</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>    <span class="kw">|</span><span class="ex">-</span><span class="op">&gt;</span> routineA.h</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>    <span class="kw">|</span><span class="ex">-</span><span class="op">&gt;</span> routineB.cpp</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>    <span class="kw">|</span><span class="ex">-</span><span class="op">&gt;</span> routineB.h</span></code></pre></div>
<p>to:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">src/</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>    <span class="kw">|</span><span class="ex">-</span><span class="op">&gt;</span> Makevars.in</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>    <span class="kw">|</span><span class="ex">-</span><span class="op">&gt;</span> r-accessor-to-code.cpp</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>    <span class="kw">|</span><span class="ex">-</span><span class="op">&gt;</span> A</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>        <span class="kw">|</span><span class="ex">-</span><span class="op">&gt;</span> routineA.cpp</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>        <span class="kw">|</span><span class="ex">-</span><span class="op">&gt;</span> routineA.h</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>    <span class="kw">|</span><span class="ex">-</span><span class="op">&gt;</span> B</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>        <span class="kw">|</span><span class="ex">-</span><span class="op">&gt;</span> routineB.cpp</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>        <span class="kw">|</span><span class="ex">-</span><span class="op">&gt;</span> routineB.h</span></code></pre></div>
<p><strong>Note: There is no way to use <a href="http://lists.r-forge.r-project.org/pipermail/rcpp-devel/2015-March/008473.html" class="external-link">Rcpp Attributes in subdirectories</a>.</strong> That is, you cannot export a function in a subdirectory of <code>src/</code> using <code>// [[Rcpp::export]]</code>. Thus, you would need to create and export an intermediary function in <code>src/</code>, e.g. <a href="https://github.com/coatless-rd-rcpp/rcpp-headers-subdirs/blob/master/src/r-accessor-to-code.cpp#L22-L34" class="external-link"><code>calc_modifications()</code></a> in <a href="https://github.com/coatless-rd-rcpp/rcpp-headers-subdirs/blob/master/src/r-accessor-to-code.cpp" class="external-link"><code>r-accessor-to-code.cpp</code></a>. Make sure to include the headers associated with the subdirectories and that the headers have an <em>inclusion guard</em>.</p>
<div class="section level3">
<h3 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h3>
<p>To install the package, you must first have a compiler on your system that is compatible with R. For help on obtaining a compiler consult either <a href="http://thecoatlessprofessor.com/programming/r-compiler-tools-for-rcpp-on-os-x/" class="external-link">macOS</a> or <a href="http://thecoatlessprofessor.com/programming/rcpp/install-rtools-for-rcpp/" class="external-link">Windows</a> guides.</p>
<p>With a compiler in hand, one can then install the package from GitHub by:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"coatless-rd-rcpp/rcpp-headers-subdirs"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://rd-rcpp.thecoatlessprofessor.com/rcpp-headers-subdirs/">"SubdirSrc"</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="implementation-details">Implementation Details<a class="anchor" aria-label="anchor" href="#implementation-details"></a>
</h3>
<p>To compile code in subdirectories of <code>src/</code>, each of the files contained must be specified in the <code>src/Makevars</code> file <code>OBJECTS</code> variable. Listing the individual files by hand is tedious and more prone to error if new files are added but not included. Dynamically retrieving files in the subdirectory and writing their names is preferred approach as it is more robust to such change.</p>
<p>As a result, the package uses a <a href="https://github.com/coatless-rd-rcpp/rcpp-headers-subdirs/blob/master/configure" class="external-link"><code>configure</code> file</a> to obtain the names of the files and write them to <code>src/Makevars</code>. This <a href="https://github.com/coatless-rd-rcpp/rcpp-headers-subdirs/blob/master/configure" class="external-link"><code>configure</code> file</a> is generated from <a href="https://github.com/coatless-rd-rcpp/rcpp-headers-subdirs/blob/master/configure.ac" class="external-link"><code>configure.ac</code></a> after running <a href="https://www.gnu.org/software/autoconf/autoconf.html" class="external-link"><code>autoconf</code></a> once in terminal. The dynamic writing relies on the presence of a generic template, <code>src/Makevars.in</code>, that will produce an output file, <code>src/Makevars</code> with appropriate variables and/or paths set.</p>
<p><strong><code>src/Makevars.in</code></strong></p>
<p>This file acts as the input generic template. We are seeking resolve the variable <code>@SUBDIR_SOURCES@</code> with files found in the subdirectories of <code>src/</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># Default make file</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="va">PKG_CPPFLAGS</span><span class="op">=</span>-I.</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="va">PKG_LIBS</span><span class="op">=</span><span class="va">$(</span><span class="ex">LAPACK_LIBS</span><span class="va">)</span> <span class="va">$(</span><span class="ex">BLAS_LIBS</span><span class="va">)</span> <span class="va">$(</span><span class="ex">FLIBS</span><span class="va">)</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="co"># Include all C++ files in src/ and its subdirectories: src/A and src/B </span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="va">SOURCES</span><span class="op">=</span>r-accessor-to-code.cpp <span class="ex">RcppExports.cpp</span> @SUBDIR_SOURCES@</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>              <span class="co"># Variable to place contents     ^^^^^^^^^^^^^^^^</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="co"># Obtain the object files</span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="va">OBJECTS</span><span class="op">=</span><span class="va">$(</span><span class="ex">SOURCES:.cpp=.o</span><span class="va">)</span> </span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="co"># Make the shared object</span></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="ex">all:</span> <span class="va">$(</span><span class="ex">SHLIB</span><span class="va">)</span></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="co"># Provide recipe to remove all objects</span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a><span class="ex">clean:</span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a>    <span class="ex">@rm</span> <span class="at">-f</span> <span class="va">$(</span><span class="ex">OBJECTS</span><span class="va">)</span></span></code></pre></div>
<p><strong>src/Makevars</strong></p>
<p>This is output file created from the generic template after running the <code>configure</code> script. Within the output file, note that the variable <code>@SUBDIR_SOURCES@</code> has been <em>replaced</em> with the subdirectory file paths.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># Default make file</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="va">PKG_CPPFLAGS</span><span class="op">=</span>-I.</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="va">PKG_LIBS</span><span class="op">=</span><span class="va">$(</span><span class="ex">LAPACK_LIBS</span><span class="va">)</span> <span class="va">$(</span><span class="ex">BLAS_LIBS</span><span class="va">)</span> <span class="va">$(</span><span class="ex">FLIBS</span><span class="va">)</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="co"># Include all C++ files in src/ and its subdirectories: src/A and src/B </span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="va">SOURCES</span><span class="op">=</span>r-accessor-to-code.cpp <span class="ex">RcppExports.cpp</span> A/routineA.cpp B/routineB.cpp </span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>              <span class="co"># Updated with variable contents ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="co"># Obtain the object files</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="va">OBJECTS</span><span class="op">=</span><span class="va">$(</span><span class="ex">SOURCES:.cpp=.o</span><span class="va">)</span> </span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="co"># Make the shared object</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a><span class="ex">all:</span> <span class="va">$(</span><span class="ex">SHLIB</span><span class="va">)</span></span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a><span class="co"># Provide recipe to remove all objects</span></span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a><span class="ex">clean:</span></span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a>    <span class="ex">@rm</span> <span class="at">-f</span> <span class="va">$(</span><span class="ex">OBJECTS</span><span class="va">)</span></span></code></pre></div>
<p>From here, any functions in the subdirectories can be used by including the relevant header file with the function definitions. As an example, consider <a href="https://github.com/coatless-rd-rcpp/rcpp-headers-subdirs/blob/master/src/A/routineA.cpp" class="external-link"><code>src/A/routineA.cpp</code></a>, which stores the function implementation, and <a href="https://github.com/coatless-rd-rcpp/rcpp-headers-subdirs/blob/master/src/A/routineA.h" class="external-link"><code>src/A/routineA.h</code></a>, which stores the function definition and incorporates an inclusion guard to ensure only one copy of the header file is included.</p>
<p>Though, to use subdirectory functions as a traditional <em>R</em> function, one must specify and export using Rcpp an intermediary function that rests in <code>src/</code>. An example of this can be found in <a href="https://github.com/coatless-rd-rcpp/rcpp-headers-subdirs/blob/master/src/r-accessor-to-code.cpp#L36-L53" class="external-link">lines 36 - 53 of <code>src/r-accessor-to-code.cpp</code></a>.</p>
</div>
<div class="section level3">
<h3 id="alternative-implementation-strategies">Alternative Implementation Strategies<a class="anchor" aria-label="anchor" href="#alternative-implementation-strategies"></a>
</h3>
<p>The above approach as outlined may appear to heavy handed with the use of <code>autoconf</code>. There are two other approaches that are possible:</p>
<ol style="list-style-type: decimal">
<li>Creating <code>configure</code> script using <code>sh</code> that determines the package sources and dynamically writes them to <code>src/Makevars</code> using <code>sed</code>.
<ul>
<li>
<a href="https://github.com/jeroen" class="external-link">Jeroen Ooms</a> out of <a href="http://ropensci.org/" class="external-link">rOpenSci</a> opts to call this approach <code>anticonf</code>. An example of this approach can be seen in the <a href="https://github.com/jeroen/curl/blob/master/configure#L1" class="external-link"><code>curl</code> package</a>.</li>
</ul>
</li>
<li>Attempting a wildcard approach specified in <a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Compiling-in-sub_002ddirectories" class="external-link">Section 1.2.1.3: Compiling in sub-directories</a> of <a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html" class="external-link">Writing R Extensions</a>
</li>
</ol>
<p>The first option is viable, but uncommon. I opted to avoid this implementation to gently provide a standalone example of an <code>autoconf</code> setup.</p>
<p>Meanwhile, the second option ushers in trouble on later versions of R. In the early commits, this was the main way I structured the package. Nowadays, this approach will yield a <strong>Warning</strong> when checking the R package and attempts to satisfy the check will cause a subsequent warning.</p>
<p>In particular, the warning is given as:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">*</span> checking for GNU extensions in Makefiles ... WARNING</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="ex">Found</span> the following file<span class="er">(</span><span class="ex">s</span><span class="kw">)</span> <span class="ex">containing</span> GNU extensions:</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>  <span class="ex">src/Makevars</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="ex">Portable</span> Makefiles do not use GNU extensions such as +=, :=, <span class="va">$(</span><span class="ex">shell</span><span class="va">)</span>,</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="va">$(</span><span class="ex">wildcard</span><span class="va">)</span><span class="ex">,</span> ifeq ... endif. See section â€˜Writing portable packagesâ€™ in</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="ex">the</span> â€˜Writing R Extensionsâ€™ manual.</span></code></pre></div>
<p>This can be resolved by modifying the <code>DESCRIPTION</code> file to include:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">SystemRequirements:</span> GNU make</span></code></pre></div>
<p>Doing so will result in a <code>NOTE</code> being generated on subsequent checks though:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">*</span> checking for GNU extensions in Makefiles ... NOTE</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="ex">GNU</span> make is a SystemRequirements.</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>GPL (&gt;= 2)</p>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/coatless-rd-rcpp/rcpp-headers-subdirs/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/coatless-rd-rcpp/rcpp-headers-subdirs/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 2)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing SubdirSrc</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>James Balamuta <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/coatless-rd-rcpp/rcpp-headers-subdirs/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/coatless-rd-rcpp/rcpp-headers-subdirs/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by James Balamuta.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
